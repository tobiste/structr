<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>The Fréchet (geodesic \(L^2\)) mean of a set of lines or rays — geodesic-line • structr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="The Fréchet (geodesic \(L^2\)) mean of a set of lines or rays — geodesic-line"><meta name="description" content="An iterative algorithm for computing the Fréchet mean — the line or ray that
minimizes the Fréchet variance. The iterations continue until error squared of
epsilon is achieved or steps iterations have been used. Try multiple
seeds, to improve your chances of finding the global optimum."><meta property="og:description" content="An iterative algorithm for computing the Fréchet mean — the line or ray that
minimizes the Fréchet variance. The iterations continue until error squared of
epsilon is achieved or steps iterations have been used. Try multiple
seeds, to improve your chances of finding the global optimum."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">structr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.2.9002</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tobiste/structr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>The Fréchet (geodesic \(L^2\)) mean of a set of lines or rays</h1>
      <small class="dont-index">Source: <a href="https://github.com/tobiste/structr/blob/main/R/geodesic_mean.R" class="external-link"><code>R/geodesic_mean.R</code></a></small>
      <div class="d-none name"><code>geodesic-line.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>An iterative algorithm for computing the Fréchet mean — the line or ray that
minimizes the Fréchet variance. The iterations continue until error squared of
epsilon is achieved or <code>steps</code> iterations have been used. Try multiple
seeds, to improve your chances of finding the global optimum.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">geodesic_mean_line</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">geodesic_mean_ray</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">geodesic_var_line</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">geodesic_var_ray</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">geodesic_meanvariance_line</span><span class="op">(</span><span class="va">x</span>, seeds <span class="op">=</span> <span class="fl">5L</span>, steps <span class="op">=</span> <span class="fl">100L</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">geodesic_meanvariance_ray</span><span class="op">(</span><span class="va">x</span>, seeds <span class="op">=</span> <span class="fl">5L</span>, steps <span class="op">=</span> <span class="fl">100L</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="source">Source<a class="anchor" aria-label="anchor" href="#source"></a></h2>
    <p>lineMeanVariance from geologyGeometry (J.R. Davis)</p>
    </div>
    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>object of class <code>"Vec3"</code>, <code>"Line"</code>, <code>"Ray"</code>, or <code>"Plane"</code>, where the
rows are the observations and the columns are the coordinates.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>parameters passed to <code>geodesic_meanvariance_line()</code> or <code>geodesic_meanvariance_ray()</code></p></dd>


<dt id="arg-seeds">seeds<a class="anchor" aria-label="anchor" href="#arg-seeds"></a></dt>
<dd><p>positive integer. How many <code>x</code> to try as seeds</p></dd>


<dt id="arg-steps">steps<a class="anchor" aria-label="anchor" href="#arg-steps"></a></dt>
<dd><p>positive integer. Bound on how many iterations to use.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>geodesic_meanvariance_*</code> (* either line or ray) returns a <code>list</code> consisting of
<code>$variance</code> (numeric), <code>$mean</code> (a line),
<code>$error</code> (an integer) and <code>$min.eigenvalue</code> (numeric).
<code>geodesic_mean_*</code> and <code>geodesic_var_*</code> are convenience wrapper and only
return the mean and the variance, respectively.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Error should be <code>0</code> and <code>min.eigenvalue</code> should be positive.
Otherwise there was some problem in the optimization. If error is non-zero, then try increasing <code>steps</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Davis, J. R., &amp; Titus, S. J. (2017). Modern methods of analysis
for three-dimensional orientational data. Journal of Structural Geology,
96, 65–89. https://doi.org/10.1016/j.jsg.2017.01.002</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="stats.html">sph_mean()</a></code> for arithmetic mean and <code><a href="mean-pair.html">geodesic_mean_pair()</a></code> for geodesic mean of pairs.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">geodesic_meanvariance_line</span><span class="op">(</span><span class="va">example_lines</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $variance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.06118261</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $mean</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Line object (n = 1):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  azimuth   plunge </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 69.64016 14.87899 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $min.eigenvalue</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu">geodesic_mean_line</span><span class="op">(</span><span class="va">example_lines</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Line object (n = 1):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  azimuth   plunge </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 69.63944 14.87954 </span>
<span class="r-in"><span><span class="fu">geodesic_var_line</span><span class="op">(</span><span class="va">example_lines</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.06118261</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://tobiste.github.io/" class="external-link">Tobias Stephan</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

