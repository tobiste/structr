---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# structr

<!-- badges: start -->

[![R-CMD-check](https://github.com/tobiste/structr/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/tobiste/structr/actions/workflows/R-CMD-check.yaml)

<!-- badges: end -->

`{structr}` is a free and open-source package for R that provides tools for structural geology. The toolset includes

-   analysis and visualization of orientation data of structural geology (including, **stereographic projections**, contouring, fabric plots, and statistics),

-   **cluster analysis** of orientation data,

- geodesic regression to find the **best-fitting great circle or small circle** through orientation data,

-   stress analysis (including visualization of the magnitudes of stress in the **Mohr circle** and extracting the **maximum horizontal stress** of a 3D stress tensor),

-   reconstruction of fabric orientations in **oriented drillcores** by transforming the &alpha;, &beta;, and &gamma; angles,

-   calculation fault displacement components,

-   **Paleostress analysis**: reconstruction of stress orientation and magnitudes using fault-slip inversion,

-   strain analysis (**R**<sub>f</sub>/Ï•), contouring on the unit hyperboloid, **Fry plots** and **Hsu plots**

-   vorticity analysis using the **Rigid Grain Net** method, and

-   direct import of your field data from **StraboSpot** projects.

> The {structr} package is all about structures in 3D. For analyzing orientations in 2D (statistics, rose diagrams, etc.), check out the [tectonicr](https://github.com/tobiste/tectonicr) package!

## Installation

You can install the development version of `{structr}` from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("tobiste/structr")
```

## Example

This is a basic example which shows you how to import data and plot them on stereographic or equal-area projections.

```{r stereo, warning=FALSE,message=FALSE}
library(structr)
library(ggplot2)
library(mapproj)

data(example_planes_df)
planes <- Plane(example_planes_df$dipdir, example_planes_df$dip)

fabric <- or_shape_params(planes)$Vollmer["D"]

ggstereo() +
  geom_contourf_stereo(gg(planes)) +
  geom_point(data = gg(planes), aes(x, y), color = "grey", shape = 21) +
  scale_fill_viridis_d(option = "F") +
  labs(
    subtitle = "Example data",
    title = "Density contour plot",
    fill = "Multiples of\nvon Mises-Fisher\ndistribution",
    caption = paste0("Equal area, lower hemisphere projection | N: ", nrow(planes), " | Fabric strength: ", round(fabric, 2))
  )
```

## Documentation

The detailed documentation can be found at <https://tobiste.github.io/structr/>

## Author

Tobias Stephan ([tstephan\@lakeheadu.ca](mailto:tstephan@lakeheadu.ca){.email})

## Feedback, issues, and contributions

I welcome feedback, suggestions, issues, and contributions! If you have found a bug, please file it [here](https://github.com/tobiste/structr/issues) with minimal code to reproduce the issue.

## License

MIT License
