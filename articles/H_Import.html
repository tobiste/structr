<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>8. Import data • structr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="8. Import data">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">structr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1.9007</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/A_Basics.html">1. Basics</a></li>
    <li><a class="dropdown-item" href="../articles/B_Stereographic_projection.html">2. Stereographic projections</a></li>
    <li><a class="dropdown-item" href="../articles/C_Stereographic_projection_ggplot.html">3. Stereographic projections with ggplot</a></li>
    <li><a class="dropdown-item" href="../articles/D_Faults.html">4. Faults</a></li>
    <li><a class="dropdown-item" href="../articles/E_Mohr_Circle.html">5. Mohr Circle</a></li>
    <li><a class="dropdown-item" href="../articles/F_Oriented_Drill_Cores.html">6. Oriented drill cores</a></li>
    <li><a class="dropdown-item" href="../articles/G_Strain_Analysis.html">7. Strain and Vorticity Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/H_Import.html">8. Import data</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tobiste/structr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>8. Import data</h1>
                        <h4 data-toc-skip class="author">Tobias
Stephan</h4>
            
            <h4 data-toc-skip class="date">2025-09-18</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/tobiste/structr/blob/main/vignettes/H_Import.Rmd" class="external-link"><code>vignettes/H_Import.Rmd</code></a></small>
      <div class="d-none name"><code>H_Import.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tobiste.github.io/structr/">structr</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="general">General<a class="anchor" aria-label="anchor" href="#general"></a>
</h2>
<p>Data can be imported with already in R implemented functions such as
<code><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table()</a></code>, <code><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv()</a></code> or from other
packages functions (e.g. <a href="https://readr.tidyverse.org/" class="external-link">{readr}</a> and <a href="https://cran.r-project.org/web/packages/data.table/index.html" class="external-link">{data.table}</a>).
Just make sure that the import produces a matrix or data.frame like
object with each measurement stored in a row, and columns representing
dip directions, dip angles, plunge, etc.</p>
<p>For example your <code>.txt</code> file is tab-separated and may look
like this:</p>
<table class="table">
<thead><tr class="header">
<th></th>
<th>Dip direction</th>
<th>Dip</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>120</td>
<td>50</td>
</tr>
<tr class="even">
<td>2</td>
<td>60</td>
<td>12</td>
</tr>
<tr class="odd">
<td>3</td>
<td>287</td>
<td>82</td>
</tr>
</tbody>
</table>
<p>you could import the file like</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">imported_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table</a></span><span class="op">(</span></span>
<span>  <span class="st">"path/to/my/file.xt"</span>,</span>
<span>  header <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  sep <span class="op">=</span> <span class="st">""</span>,</span>
<span>  row.names <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This imports the tab-separated file as an <code>"data.frame"</code>
object with the first column representing the row names, and the two
other columns the headers of the table. Say these measurements represent
plane measurements (e.g. bedding or fault plane orientation), we just
need to coerce that data.frame into a <code>"Plane"</code> object:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_planes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/classes.html">as.Plane</a></span><span class="op">(</span><span class="va">imported_data</span><span class="op">)</span></span></code></pre></div>
<p>If you want a <code>"Line"</code> object, coerce the data.frame using
<code><a href="../reference/classes.html">as.Line()</a></code>. For <code>"Pair"</code> (line-on-plane) and
<code>"Fault"</code> (line-on-plane with sense of motion) objects,
you’ll need a four and five-column table, respectively, representing dip
directions, dip angle, trend, and plunge and sense measurements. Then
use <code><a href="../reference/classes.html">as.Pair()</a></code> or <code><a href="../reference/classes.html">as.Fault()</a></code> to parse the
object into {structr}.</p>
<blockquote>
<p>Note that the <strong>dip direction</strong> is the preferred
notation for plane measurements in {structr}. To convert from
right-hand-rule strike measurements to dip directions, you can simply
use the <code><a href="../reference/rhr.html">rhr2dd()</a></code> function for that column:</p>
</blockquote>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">imported_data</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rhr.html">rhr2dd</a></span><span class="op">(</span><span class="va">imported_data</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/classes.html">as.Plane</a></span><span class="op">(</span><span class="va">imported_data</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="strabospot">StraboSpot<a class="anchor" aria-label="anchor" href="#strabospot"></a>
</h2>
<p>The package {structr} can import all the collected field data from
your <a href="https://strabospot.org" class="external-link">Strabospot</a> project.</p>
<p>The best way is to import the .json file database of the StraboSpot
project. Go to your field data <strong>My StraboField Data</strong> &gt;
scroll down to your project &gt; click on <strong>Options…</strong> &gt;
<strong>Download Project in Strabo JSON Format</strong></p>
<p>Now you can import the downloaded file via
<code><a href="../reference/strabo.html">read_strabo_JSON()</a></code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">strabo_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/strabo.html">read_strabo_JSON</a></span><span class="op">(</span><span class="st">"path/to/my/file.json"</span><span class="op">)</span></span></code></pre></div>
<p>The import function produces a <code>list</code> object with all the
meta data (<code>data</code>), the geographic locations
(<code>spots</code>), the used tags (<code>tags</code>), and all the
plane (<code>planes</code>) and line measurements (<code>lines</code>)
already converted into {structr} data objects.</p>
<p>Additional to descriptions and comments, the meta data
(<code>data</code>) also contains information on the dataset name and
time of measurement.</p>
<p><strong>IMPORTANT</strong>: The meta data and the plane and line
measurements all share the same row indices. Thus, planes and lines with
identical row indices have been measured simultaneously (e.g. as a
fault).</p>
<blockquote>
<p>This import allows that the connection of simultaneously measured
plane and lines (such as faults and their striae) will be preserved.
Unfortunately, if you <strong>export</strong> your StraboSpot field data
into a <code>.csv</code> or <code>.xls</code> file, this connection is
lost…</p>
</blockquote>
<p>Alternatively, the function <code><a href="../reference/strabo.html">read_strabo_xls()</a></code> and
<code><a href="../reference/strabo.html">read_strabo_mobile()</a></code> provide import of <code>.xls</code>
and any character-separated table files (e.g. <code>.csv</code> or
<code>.txt</code>).</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tobias Stephan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
