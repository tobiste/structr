---
title: "Oriented Drill Cores"
author: "Tobias Stephan"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
description: >
  Learn how to deal with drillcore orientations. 
vignette: >
  %\VignetteIndexEntry{Oriented Drill Cores}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
editor_options: 
  markdown: 
    wrap: 72
---

This vignette describes how convert alpha-beta (and gamma) measurements from oriented drill cores into geological planes and lines using the
`drillcore_transformation()` function of the {structr} package.

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup, warning=FALSE, message=FALSE}
library(structr)
```

The function `drillcore_transformation()` calculates the orientation of a plane or line from internal core angles (**&alpha;**, **&beta;**, and **&gamma;**) of oriented drill cores.

`azi` is the azimuth of drill core axis orientation (in degrees, measured clockwise from North), and `inc` is the inclination of drill core axis (in degrees). 

```{r data}
azi <- 225
inc <- 45
```
> Note that negative values for the inclination indicate downward direction

`alpha` and `beta` are the internal core angles alpha and beta, respectively, measured in degrees.

```{r alphabeta}
drillcore_transformation(azi, inc, alpha = 60, beta = 320)
```
The function returns a spherical objects. Since only alpha and beta angles are specified, the output is a `"plane"` object.

For several alpha and beta angles:
```{r alphabeta2}
planes_AB <- drillcore_transformation(azi, inc, alpha = c(60, 45), beta = c(320, 220))
```

The orientations can be plotted in a equal-area (lower hemisphere) projection:
```{r stereonet}
#| fig.alt: >
#|   Diagram showing the orientation of the drillcore in a equal-area projection

# initialize plot:
stereoplot()

# plot the core axis' azimuth and inclination)
stereo_point(Line(azi, inc), lab = "core-axis")

# plot the plane orientations as poles...
stereo_point(planes_AB, lab = c("A", "B"), col = c("#B63679FF", "#FB8861FF"))

# ... and as great circles
stereo_greatcircle(planes_AB, col = c("#B63679FF", "#FB8861FF"))
```
